<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard de Emprendimiento</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header>
    <h1>Dashboard de Emprendimiento e Innovación</h1>
    <nav>
      <ul>
        <li><a href="index.html">Inicio</a></li>
        <li><a href="#que-es">¿Qué es el emprendimiento?</a></li>
        <li><a href="#contexto">Chocó y su potencial</a></li>
        <li><a href="#iniciativas">Iniciativas de apoyo</a></li>
        <li><a href="#historias">Historias inspiradoras</a></li>
        <li><a href="#enlaces">Enlaces útiles</a></li>
        <li><a href="test_innovacion.html">Test Innovación</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section>
      <h2>Capacidad de Emprendimiento Femenino</h2>
      <canvas id="barChart"></canvas>
    </section>
    
    <section>
      <h2>Participación por tipo de Emprendimiento</h2>
      <canvas id="pieChart"></canvas>
    </section>

    <section>
      <h2>Tendencia de la Innovación en el Mundo</h2>
      <canvas id="lineChart"></canvas>
    </section>

    <section>
      <h2>Comparación entre Emprendimiento e Innovación</h2>
      <canvas id="areaChart"></canvas>
    </section>

    <section>
      <h2>Datos Adicionales desde CSV</h2>
      <canvas id="graficoDatos" width="400" height="200"></canvas>
    </section>
  </main>

  <footer>
    <p>© 2025 Chocó Emprende - Talento Tech Chocó Cohorte 1</p>
  </footer>

  <script>
// Gráfico de barras: Capacidad de Emprendimiento Femenino (municipios del Chocó)
const ctxBar = document.getElementById('barChart').getContext('2d');
new Chart(ctxBar, {
  type: 'bar',
  data: {
    labels: ['Quibdó', 'Istmina', 'Condoto', 'Tadó', 'Bahía Solano'],
    datasets: [{
      label: 'Mujeres Emprendedoras (%)',
      data: [48, 40, 35, 38, 42],
      backgroundColor: 'rgba(153, 102, 255, 0.6)',
      borderColor: 'rgba(153, 102, 255, 1)',
      borderWidth: 1
    }]
  },
  options: {
    responsive: true,
    scales: { y: { beginAtZero: true, title: { display: true, text: 'Porcentaje (%)' } } }
  }
});

// Gráfico de pastel: Participación por tipo de Emprendimiento
const ctxPie = document.getElementById('pieChart').getContext('2d');
new Chart(ctxPie, {
  type: 'pie',
  data: {
    labels: ['Tecnológico', 'Social', 'Comercial', 'Cultural', 'Ambiental'],
    datasets: [{
      label: 'Tipos de Emprendimiento',
      data: [25, 20, 30, 15, 10],
      backgroundColor: [
        'rgba(255, 99, 132, 0.6)',
        'rgba(54, 162, 235, 0.6)',
        'rgba(255, 206, 86, 0.6)',
        'rgba(75, 192, 192, 0.6)',
        'rgba(153, 102, 255, 0.6)'
      ]
    }]
  },
  options: { responsive: true }
});

// Gráfico de líneas: Tendencia de la Innovación en el Mundo
const ctxLine = document.getElementById('lineChart').getContext('2d');
new Chart(ctxLine, {
  type: 'line',
  data: {
    labels: [2018, 2019, 2020, 2021, 2022, 2023],
    datasets: [{
      label: 'Índice Global de Innovación',
      data: [60.1, 61.3, 59.8, 62.0, 63.5, 64.2],
      fill: false,
      borderColor: 'rgba(255, 159, 64, 1)',
      tension: 0.1
    }]
  },
  options: { responsive: true, scales: { y: { beginAtZero: false } } }
});

// Gráfico de área: Comparación entre Emprendimiento e Innovación
const ctxArea = document.getElementById('areaChart').getContext('2d');
new Chart(ctxArea, {
  type: 'line',
  data: {
    labels: [2018, 2019, 2020, 2021, 2022, 2023],
    datasets: [
      {
        label: 'Emprendimiento (Índice)',
        data: [55, 57, 56, 58, 60, 62],
        fill: true,
        tension: 0.1
      },
      {
        label: 'Innovación (Índice)',
        data: [60, 61, 59, 62, 63, 64],
        fill: true,
        tension: 0.1
      }
    ]
  },
  options: {
    responsive: true,
    scales: { y: { beginAtZero: false } }
  }
});

// Gráfico de barras: Datos Adicionales desde CSV
async function cargarDatosYGraficar() {
  const response = await fetch('datos.csv');
  const data = await response.text();

  const filas = data.trim().split('\n');
  const etiquetas = [];
  const valores = [];

  for (let i = 1; i < filas.length; i++) {
    const [etiqueta, valor] = filas[i].split(',');
    etiquetas.push(etiqueta);
    valores.push(parseFloat(valor));
  }

  const ctxCsv = document.getElementById('graficoDatos').getContext('2d');
  new Chart(ctxCsv, {
    type: 'bar',
    data: {
      labels: etiquetas,
      datasets: [{
        label: 'Datos desde CSV',
        data: valores,
        backgroundColor: 'rgba(54, 162, 235, 0.6)',
        borderColor: 'rgba(54, 162, 235, 1)',
        borderWidth: 1
      }]
    },
    options: { responsive: true, scales: { y: { beginAtZero: true } } }
  });
}

cargarDatosYGraficar();

  </script>

  <script src="js/charts.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="js/charts.js"></script>
  <script src="js/dashboard.js"></script>

</body>
</html>